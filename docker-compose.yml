version: '3.2'

services:
  robot-test:
    build: .
    volumes:
      - ./results:/app/results
    # Load environment from both default and explicit --env-file
    # This ensures BASE_URL and other vars are available in the container
    environment:
      - BASE_URL=${BASE_URL}
    # IMPORTANT: Add this to auto-load the correct env file based on context
    # If you run: docker-compose --env-file staging.env up
    # Docker will load staging.env AND use it for variable substitution
    # If running locally without --env-file, you can create a .env file as fallback